<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ford Critical Inventory Watchlist</title>
    
    <!-- 1. Load Tailwind CSS (Styling Engine) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Load React and ReactDOM (The Framework) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- 3. Load Babel (To translate JSX in the browser) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');
        body { font-family: 'Roboto', sans-serif; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">

    <!-- The Root Element where React will render -->
    <div id="root"></div>

    <!-- The React Application Script -->
    <script type="text/babel">
        const { useState } = React;

        // --- Inline Icons (Replacements for Lucide-React to work without build steps) ---
        const IconCheckCircle = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        );
        const IconAlertTriangle = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        );
        const IconXCircle = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
        );
        const IconExternalLink = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
        );
        const IconLoader2 = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>
        );

        // --- Main Component ---
        const InventoryWatchlist = () => {
            const [selectedItem, setSelectedItem] = useState(null);
            const [launchingSAP, setLaunchingSAP] = useState(false);

            // Ford Brand Colors
            const FORD_BLUE = '#003478'; 

            const inventoryData = [
                { id: 1, name: 'Microchips (Type A)', sku: 'MC-204-A', qty: 15000, status: 'Stable' },
                { id: 2, name: 'Steel Roll (Grade 4)', sku: 'SR-GR4-002', qty: 2400, status: 'Low' },
                { id: 3, name: 'Rubber Seals', sku: 'RS-SEAL-099', qty: 0, status: 'Critical' },
                { id: 4, name: 'Aluminum Casings', sku: 'AL-CASE-55', qty: 8500, status: 'Stable' },
            ];

            const handleRowClick = (item) => {
                if (item.status === 'Critical') setSelectedItem(item);
            };

            const launchSAP = () => {
                setLaunchingSAP(true);
                setTimeout(() => {
                    setLaunchingSAP(false);
                    alert("SAP S/4HANA Workflow Triggered for Material: RS-SEAL-099");
                    setSelectedItem(null);
                }, 2000);
            };

            const getStatusIcon = (status) => {
                switch (status) {
                    case 'Stable': return <IconCheckCircle className="w-3 h-3 text-emerald-600" />;
                    case 'Low': return <IconAlertTriangle className="w-3 h-3 text-amber-600" />;
                    case 'Critical': return <IconXCircle className="w-3 h-3 text-red-600" />;
                    default: return null;
                }
            };

            return (
                // Wrapper div is handled by body styles in this standalone file
                <div className="w-full max-w-[340px] bg-white rounded-md shadow-sm border border-gray-200 overflow-hidden">
                    
                    {/* Compact Header */}
                    <div className="px-3 py-2 flex items-center justify-between" style={{ backgroundColor: FORD_BLUE }}>
                        <h1 className="text-xs font-bold tracking-wider uppercase text-white">Critical Watchlist</h1>
                        <div className="flex items-center gap-1.5">
                            <span className="text-[9px] text-blue-200 uppercase opacity-80">Line A</span>
                            <span className="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></span>
                        </div>
                    </div>

                    {/* Condensed List */}
                    <div className="divide-y divide-gray-100">
                        {inventoryData.map((item) => (
                            <div 
                                key={item.id}
                                onClick={() => handleRowClick(item)}
                                className={`
                                    group flex items-center justify-between px-3 py-2.5 transition-all duration-150
                                    ${item.status === 'Critical' 
                                        ? 'bg-red-50 hover:bg-red-100 cursor-pointer border-l-[3px] border-l-red-500 pl-[9px]' 
                                        : 'hover:bg-gray-50 border-l-[3px] border-l-transparent pl-[9px]'}
                                `}
                            >
                                {/* Left: Info */}
                                <div className="flex flex-col">
                                    <span className={`text-xs font-bold leading-tight ${item.status === 'Critical' ? 'text-red-900' : 'text-gray-800'}`}>
                                        {item.name}
                                    </span>
                                    <span className="text-[10px] text-gray-500 font-mono mt-0.5">
                                        {item.qty.toLocaleString()} units
                                    </span>
                                </div>

                                {/* Right: Status */}
                                <div className="flex items-center gap-2">
                                    {item.status === 'Critical' && (
                                        <span className="text-[9px] font-bold text-red-600 uppercase tracking-tight group-hover:underline">
                                            Action
                                        </span>
                                    )}
                                    <div className={`
                                        flex items-center justify-center w-6 h-6 rounded-full border
                                        ${item.status === 'Critical' ? 'bg-white border-red-200 shadow-sm' : 'bg-gray-50 border-gray-100'}
                                    `}>
                                        {getStatusIcon(item.status)}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                    
                    {/* Micro Footer */}
                    <div className="bg-gray-50 px-3 py-1.5 border-t border-gray-200 text-center">
                        <p className="text-[9px] text-gray-400 font-medium">Synced: 14:02 PM â€¢ Ford SCM</p>
                    </div>

                    {/* Compact Modal */}
                    {selectedItem && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200">
                            <div className="bg-white w-full max-w-[300px] rounded shadow-xl overflow-hidden animate-in zoom-in-95 duration-200" onClick={(e) => e.stopPropagation()}>
                                <div className="px-4 py-3 bg-red-50 border-b border-red-100 flex justify-between items-center">
                                    <h3 className="text-xs font-bold text-red-800 uppercase">Stock Alert</h3>
                                    <button onClick={() => setSelectedItem(null)} className="text-red-400 hover:text-red-600">
                                        <IconXCircle className="w-4 h-4" />
                                    </button>
                                </div>
                                <div className="p-4">
                                    <div className="text-center mb-4">
                                        <div className="text-sm font-bold text-gray-900">{selectedItem.name}</div>
                                        <div className="text-xs text-red-600 font-bold mt-1">0 Units On Hand</div>
                                    </div>
                                    <button 
                                        onClick={launchSAP}
                                        disabled={launchingSAP}
                                        className="w-full text-white text-xs font-bold uppercase py-2.5 rounded-sm flex items-center justify-center shadow-sm"
                                        style={{ backgroundColor: FORD_BLUE }}
                                    >
                                        {launchingSAP ? <IconLoader2 className="w-3 h-3 animate-spin" /> : <span className="flex items-center">Open SAP <IconExternalLink className="w-3 h-3 ml-1.5" /></span>}
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<InventoryWatchlist />);
    </script>
</body>
</html>
