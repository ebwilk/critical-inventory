<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ford Critical Inventory Watchlist</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Ford Branding & Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Antrastic:wght@400;600;700&family=Inter:wght@300;400;600;700&display=swap');

        :root {
            --ford-blue: #003478;
            --ford-light-blue: #4076BC;
            --ford-gray: #F2F2F2;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: white; 
            padding: 20px;
        }

        .ford-header {
            background-color: var(--ford-blue);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- Icons ---
        const IconCheckCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        );
        const IconAlertTriangle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        );
        const IconXCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
        );
        const IconLoader2 = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>
        );
        const IconExternalLink = ({ size = 24, className = "" }) => (
             <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
        );
        const IconRefresh = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M3 21v-5h5"/></svg>
        );

        // --- Data ---
        const inventoryData = [
            { id: 1, name: 'Microchips (Type A)', sku: 'MC-204-A', qty: 15000, status: 'Stable' },
            { id: 2, name: 'Steel Roll (Grade 4)', sku: 'SR-GR4-002', qty: 2400, status: 'Low' },
            { id: 3, name: 'Rubber Seals', sku: 'RS-SEAL-099', qty: 0, status: 'Critical' },
            { id: 4, name: 'Aluminum Casings', sku: 'AL-CASE-55', qty: 8500, status: 'Stable' },
        ];

        const InventoryCard = ({ item, onClick }) => {
            let statusColor = "text-emerald-700";
            let bg = "bg-white border-slate-200 hover:border-slate-300";
            let IconComponent = IconCheckCircle;
            let qtyColor = "text-slate-800";

            if (item.status === 'Low') {
                statusColor = "text-amber-700";
                bg = "bg-amber-50 border-amber-200";
                IconComponent = IconAlertTriangle;
            } else if (item.status === 'Critical') {
                statusColor = "text-red-700";
                bg = "bg-red-50 border-red-200 cursor-pointer hover:bg-red-100 hover:shadow-md";
                IconComponent = IconXCircle;
                qtyColor = "text-red-700";
            }

            return (
                <div 
                    onClick={() => onClick(item)}
                    className={`rounded-md border p-3 flex flex-col justify-between transition-all duration-200 ${bg}`}
                >
                    <div className="flex justify-between items-start mb-2">
                        <div className="flex flex-col overflow-hidden">
                            <span className="text-[11px] font-bold uppercase tracking-wider opacity-75 truncate" title={item.name}>{item.name}</span>
                            <span className="text-[9px] text-slate-500 font-mono truncate">{item.sku}</span>
                        </div>
                    </div>
                    
                    <div className="flex items-end justify-between mt-1">
                        <span className={`text-xl font-bold leading-none ${qtyColor}`}>
                            {item.qty.toLocaleString()}
                        </span>
                        <div className={`flex items-center gap-1 ${statusColor}`}>
                            <IconComponent size={14} />
                            <span className="text-[10px] font-bold uppercase">{item.status}</span>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [selectedItem, setSelectedItem] = useState(null);
            const [launchingSAP, setLaunchingSAP] = useState(false);

            const handleCardClick = (item) => {
                if (item.status === 'Critical') {
                    setSelectedItem(item);
                }
            };

            const launchSAP = () => {
                setLaunchingSAP(true);
                setTimeout(() => {
                    setLaunchingSAP(false);
                    alert("SAP S/4HANA Workflow Triggered for Material: RS-SEAL-099");
                    setSelectedItem(null);
                }, 2000);
            };

            return (
                // Responsive Container: Adapts to width
                <div className="w-full bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden">
                    
                    {/* Header + Controls Row */}
                    <div className="bg-[#003478] px-3 py-2 flex items-center justify-between">
                        <h1 className="text-xs font-bold text-white whitespace-nowrap">Critical Watchlist</h1>
                        
                        <div className="flex items-center gap-2">
                             <div className="flex items-center gap-1.5 px-2 py-0.5 bg-white/10 rounded">
                                <span className="text-[10px] text-blue-100 font-medium">Line A</span>
                                <span className="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></span>
                             </div>
                             <button className="text-white/70 hover:text-white transition-colors">
                                <IconRefresh size={14} />
                             </button>
                        </div>
                    </div>

                    {/* Content Grid - Responsive cols based on container width */}
                    <div className="p-2 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2">
                        {inventoryData.map(item => (
                            <InventoryCard 
                                key={item.id} 
                                item={item} 
                                onClick={handleCardClick} 
                            />
                        ))}
                    </div>
                    
                    {/* Tiny Footer */}
                     <div className="px-3 pb-1.5 flex gap-3 text-[9px] text-slate-400 justify-end border-t border-slate-50 pt-1">
                        <span>Synced: 14:02 PM</span>
                        <span>Ford SCM</span>
                    </div>

                    {/* Modal Overlay */}
                    {selectedItem && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200">
                            <div className="bg-white w-full max-w-[300px] rounded shadow-xl overflow-hidden animate-in zoom-in-95 duration-200" onClick={(e) => e.stopPropagation()}>
                                <div className="px-4 py-3 bg-red-50 border-b border-red-100 flex justify-between items-center">
                                    <h3 className="text-xs font-bold text-red-800 uppercase">Stock Alert</h3>
                                    <button onClick={() => setSelectedItem(null)} className="text-red-400 hover:text-red-600">
                                        <IconXCircle size={16} />
                                    </button>
                                </div>
                                <div className="p-4">
                                    <div className="text-center mb-4">
                                        <div className="text-sm font-bold text-gray-900">{selectedItem.name}</div>
                                        <div className="text-xs text-red-600 font-bold mt-1">0 Units On Hand</div>
                                    </div>
                                    <button 
                                        onClick={launchSAP}
                                        disabled={launchingSAP}
                                        className="w-full text-white text-xs font-bold uppercase py-2.5 rounded-sm flex items-center justify-center shadow-sm hover:shadow transition-all"
                                        style={{ backgroundColor: '#003478' }}
                                    >
                                        {launchingSAP ? <IconLoader2 size={14} className="animate-spin mr-2" /> : <span className="flex items-center">Open SAP <IconExternalLink size={12} className="ml-1.5" /></span>}
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
